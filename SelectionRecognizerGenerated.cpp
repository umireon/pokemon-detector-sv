#include "SelectionRecognizer.h"
#include <opencv2/opencv.hpp>
#include <vector>
const int SelectionRecognizer::DESCRIPTOR_SIZE = 64;
const int SelectionRecognizer::NORMALIZED_HEIGHT = 243;
const int SelectionRecognizer::BINARY_THRESHOLD = 200;
const std::vector<int> SelectionRecognizer::SELECTION_INDEX = {
    1,
    2,
    3,
};
static const std::vector<std::vector<uchar>> DATA = {
    {
        154, 18,  35,  146, 0,   96,  230, 172, 28,  22,  96,  144, 64,  105,
        230, 192, 130, 50,  51,  146, 0,   96,  226, 164, 28,  22,  96,  144,
        64,  97,  230, 192, 32,  79,  178, 180, 135, 251, 198, 137, 56,  79,
        242, 180, 143, 250, 198, 137, 20,  38,  98,  176, 1,   97,  166, 192,
        48,  127, 242, 164, 135, 246, 199, 175, 28,  119, 98,  144, 174, 126,
        231, 232, 154, 123, 163, 146, 236, 127, 231, 236, 32,  111, 147, 52,
        134, 251, 199, 13,  146, 75,  82,  182, 37,  242, 130, 164, 8,   18,
        36,  49,  1,   233, 70,  128, 32,  75,  146, 148, 38,  242, 194, 41,
        16,  79,  82,  148, 36,  242, 130, 160, 190, 83,  115, 246, 231, 116,
        195, 231, 146, 96,  83,  150, 37,  248, 130, 44,  130, 74,  17,  148,
        38,  250, 194, 40,  62,  26,  36,  177, 161, 191, 86,  224, 16,  68,
        82,  148, 36,  242, 130, 160,
    },
    {
        48,  95,  242, 182, 7,   226, 194, 169, 32,  111, 242, 182, 7,   226,
        194, 137, 40,  111, 242, 180, 143, 250, 194, 137, 40,  95,  242, 180,
        135, 250, 194, 137, 32,  111, 242, 182, 15,  226, 194, 137, 32,  111,
        242, 180, 143, 250, 194, 137, 56,  95,  242, 182, 143, 226, 194, 137,
        154, 18,  35,  146, 0,   96,  230, 164, 40,  111, 226, 176, 143, 226,
        198, 137, 4,   38,  96,  144, 0,   99,  230, 160, 24,  22,  96,  144,
        0,   97,  230, 160, 154, 18,  35,  146, 0,   96,  230, 172, 48,  95,
        242, 182, 143, 227, 198, 169, 56,  95,  242, 180, 143, 242, 226, 136,
        32,  127, 242, 182, 135, 227, 199, 137, 154, 18,  35,  146, 0,   96,
        230, 172, 40,  127, 242, 180, 135, 250, 199, 137, 32,  111, 226, 176,
        137, 226, 230, 136, 32,  127, 242, 182, 143, 246, 199, 141, 32,  110,
        224, 176, 1,   226, 198, 129, 48,  127, 242, 164, 135, 246, 199, 137,
        154, 18,  35,  146, 32,  96,  230, 172, 32,  75,  129, 20,  6,   251,
        198, 13,  2,   75,  19,  182, 32,  242, 194, 37,  40,  95,  242, 180,
        135, 250, 194, 137, 154, 18,  35,  146, 0,   96,  230, 172, 190, 127,
        243, 182, 142, 254, 199, 173, 32,  95,  242, 180, 143, 226, 194, 137,
        40,  111, 226, 176, 143, 250, 198, 137, 32,  111, 243, 182, 15,  226,
        194, 141, 32,  111, 242, 180, 143, 250, 194, 137, 32,  127, 242, 180,
        143, 250, 194, 137, 32,  111, 242, 180, 207, 226, 194, 137, 56,  79,
        226, 176, 207, 234, 198, 137, 32,  111, 242, 180, 199, 242, 194, 137,
        28,  23,  98,  144, 206, 98,  230, 200, 162, 107, 177, 182, 13,  226,
        194, 237, 48,  95,  242, 180, 207, 242, 194, 137, 154, 18,  51,  146,
        0,   96,  226, 164, 32,  79,  242, 180, 143, 250, 194, 137, 138, 2,
        35,  146, 0,   96,  230, 140, 10,  18,  35,  146, 0,   96,  198, 132,
        48,  127, 226, 176, 143, 226, 230, 136, 60,  95,  242, 182, 7,   226,
        194, 233, 8,   22,  32,  128, 0,   99,  198, 128, 32,  111, 226, 176,
        15,  250, 198, 137, 32,  75,  146, 4,   6,   251, 194, 9,   178, 91,
        243, 182, 15,  227, 194, 237, 32,  127, 242, 182, 135, 246, 199, 175,
        56,  111, 242, 180, 135, 250, 194, 137, 32,  111, 242, 182, 239, 235,
        199, 137, 24,  22,  34,  144, 160, 115, 230, 160, 24,  22,  34,  144,
        160, 115, 230, 160, 18,  22,  34,  144, 224, 99,  166, 160, 32,  127,
        242, 180, 135, 234, 194, 137, 24,  22,  34,  144, 160, 127, 230, 160,
        146, 18,  35,  144, 160, 115, 166, 160, 28,  22,  34,  144, 192, 123,
        230, 160, 154, 18,  34,  144, 0,   99,  230, 160, 0,   110, 162, 176,
        161, 243, 230, 128, 32,  111, 242, 180, 135, 226, 194, 137, 26,  18,
        34,  144, 160, 99,  230, 160, 56,  95,  242, 166, 199, 246, 193, 167,
        40,  79,  226, 176, 175, 242, 199, 169, 32,  127, 242, 182, 135, 226,
        194, 137, 26,  18,  34,  144, 160, 99,  230, 160, 24,  22,  32,  144,
        128, 123, 230, 160, 32,  111, 242, 182, 231, 226, 194, 137, 24,  22,
        96,  144, 160, 107, 230, 160, 154, 50,  35,  146, 160, 127, 230, 172,
        28,  22,  96,  144, 46,  104, 230, 168, 154, 18,  35,  146, 232, 125,
        230, 172, 32,  111, 242, 182, 231, 226, 194, 169, 32,  79,  242, 148,
        39,  232, 194, 168, 186, 90,  177, 150, 110, 96,  194, 237, 32,  95,
        242, 182, 47,  242, 194, 233, 32,  111, 242, 182, 47,  242, 194, 233,
        56,  127, 242, 144, 47,  242, 194, 168, 166, 107, 177, 182, 111, 236,
        194, 237, 32,  127, 242, 148, 167, 242, 194, 169, 190, 91,  242, 182,
        47,  226, 194, 233, 186, 91,  242, 182, 47,  242, 194, 232, 186, 91,
        177, 150, 110, 96,  194, 165, 28,  87,  98,  144, 46,  242, 198, 168,
        32,  111, 242, 182, 47,  226, 194, 233, 154, 18,  51,  146, 160, 115,
        226, 164, 28,  22,  96,  144, 46,  112, 230, 160, 8,   22,  96,  144,
        128, 107, 230, 128, 48,  95,  242, 182, 111, 226, 194, 233, 8,   22,
        96,  144, 128, 107, 198, 128, 32,  111, 242, 182, 111, 226, 194, 233,
        8,   22,  32,  128, 128, 123, 70,  128, 20,  37,  82,  144, 72,  67,
        166, 233, 146, 66,  35,  208, 160, 115, 166, 172, 154, 66,  35,  208,
        160, 115, 166, 172, 0,   107, 3,   176, 161, 243, 198, 160, 138, 66,
        35,  208, 160, 115, 230, 160, 128, 106, 3,   148, 32,  187, 199, 21,
        138, 82,  35,  208, 160, 127, 230, 164, 138, 114, 35,  144, 160, 127,
        231, 160, 154, 18,  35,  208, 224, 127, 230, 160, 154, 18,  49,  214,
        110, 108, 195, 173, 190, 2,   241, 214, 111, 224, 195, 237, 186, 10,
        241, 214, 46,  224, 194, 233, 138, 10,  161, 210, 46,  104, 195, 172,
        8,   2,   96,  144, 40,  112, 194, 160, 8,   26,  96,  208, 128, 127,
        198, 160, 154, 114, 35,  208, 160, 127, 231, 160, 146, 66,  35,  208,
        160, 115, 166, 164, 203, 90,  163, 248, 161, 246, 199, 188,
    },
    {
        32,  111, 242, 182, 7,   224, 194, 137, 32,  111, 242, 182, 15,  226,
        194, 169, 32,  111, 242, 180, 207, 234, 194, 137, 56,  95,  242, 180,
        143, 250, 194, 137, 160, 107, 243, 178, 15,  226, 194, 172, 32,  111,
        242, 182, 143, 227, 198, 137, 32,  111, 242, 180, 143, 250, 194, 137,
        160, 127, 243, 182, 143, 251, 199, 173, 32,  127, 242, 180, 143, 255,
        199, 137, 130, 18,  51,  146, 0,   96,  226, 164, 154, 18,  35,  146,
        0,   96,  230, 164, 24,  22,  96,  144, 0,   99,  230, 160, 28,  22,
        96,  144, 0,   97,  230, 160, 4,   38,  98,  144, 0,   99,  230, 128,
        32,  111, 226, 176, 143, 242, 198, 136, 176, 127, 243, 182, 135, 255,
        195, 143, 146, 2,   35,  178, 1,   224, 230, 172, 24,  22,  34,  144,
        64,  113, 230, 160, 32,  111, 243, 182, 143, 226, 194, 141, 34,  75,
        129, 148, 38,  242, 198, 37,  0,   78,  160, 176, 32,  242, 198, 161,
        32,  111, 242, 180, 135, 226, 194, 137, 56,  95,  242, 182, 134, 246,
        197, 173, 154, 18,  35,  146, 32,  96,  230, 172, 32,  111, 243, 182,
        15,  226, 194, 137, 154, 18,  35,  146, 128, 121, 230, 172, 32,  95,
        242, 180, 143, 250, 194, 137, 154, 18,  35,  146, 0,   96,  230, 172,
        8,   70,  98,  132, 142, 122, 194, 136, 40,  79,  242, 52,  134, 250,
        198, 137, 32,  75,  242, 182, 143, 226, 199, 173, 150, 103, 114, 178,
        69,  96,  162, 236, 16,  102, 98,  176, 5,   248, 134, 128, 32,  127,
        242, 164, 135, 246, 199, 137, 0,   111, 242, 180, 135, 250, 130, 136,
        32,  79,  146, 52,  6,   251, 194, 137, 56,  79,  242, 180, 135, 250,
        194, 137, 154, 18,  51,  146, 0,   96,  226, 164, 130, 34,  35,  146,
        0,   96,  230, 228, 32,  111, 242, 180, 207, 242, 194, 137, 154, 18,
        35,  146, 0,   96,  230, 172, 32,  111, 242, 182, 135, 226, 194, 137,
        146, 18,  35,  146, 32,  96,  230, 172, 48,  95,  242, 180, 143, 226,
        226, 136, 32,  79,  226, 176, 143, 226, 198, 137, 26,  22,  34,  144,
        0,   97,  230, 160, 32,  111, 241, 182, 7,   226, 194, 133, 0,   54,
        34,  144, 0,   99,  230, 160, 56,  95,  242, 182, 143, 226, 194, 137,
        60,  95,  114, 180, 134, 118, 197, 237, 186, 127, 243, 182, 143, 255,
        199, 172, 58,  95,  242, 182, 143, 226, 194, 233, 48,  127, 242, 180,
        135, 246, 199, 143, 32,  111, 242, 180, 143, 250, 194, 137, 32,  79,
        242, 52,  134, 250, 194, 137, 154, 18,  35,  146, 0,   98,  230, 172,
        154, 18,  35,  146, 0,   96,  230, 172, 34,  75,  242, 182, 175, 242,
        194, 169, 28,  22,  96,  144, 0,   99,  230, 160, 4,   38,  96,  144,
        64,  105, 230, 160, 32,  111, 242, 182, 7,   226, 194, 137, 154, 18,
        51,  150, 0,   96,  226, 164, 28,  22,  96,  144, 0,   99,  230, 128,
        154, 18,  51,  150, 0,   96,  226, 164, 4,   22,  96,  144, 0,   99,
        230, 128, 28,  22,  96,  144, 0,   97,  230, 160, 146, 18,  35,  146,
        0,   96,  230, 164, 154, 18,  35,  146, 0,   96,  230, 172, 32,  79,
        242, 180, 143, 250, 194, 169, 48,  127, 242, 180, 143, 250, 194, 137,
        32,  79,  242, 182, 7,   226, 194, 169, 32,  111, 242, 182, 143, 226,
        194, 137, 26,  18,  34,  144, 160, 115, 230, 160, 32,  111, 242, 180,
        135, 226, 194, 137, 0,   38,  34,  144, 160, 127, 230, 160, 26,  22,
        34,  144, 32,  114, 230, 160, 28,  22,  34,  144, 161, 127, 230, 160,
        146, 22,  34,  144, 32,  114, 166, 160, 0,   110, 130, 176, 129, 251,
        198, 128, 146, 22,  34,  144, 128, 99,  166, 172, 32,  107, 19,  20,
        128, 251, 194, 5,   40,  79,  226, 176, 174, 242, 199, 169, 10,  18,
        35,  144, 160, 123, 230, 160, 136, 50,  35,  144, 160, 127, 230, 164,
        8,   18,  34,  208, 96,  98,  230, 160, 32,  111, 242, 148, 231, 226,
        194, 137, 24,  6,   32,  144, 128, 123, 230, 160, 8,   94,  98,  134,
        38,  114, 194, 169, 24,  22,  96,  144, 128, 123, 230, 160, 138, 66,
        35,  210, 160, 115, 230, 172, 28,  119, 98,  144, 232, 127, 230, 232,
        154, 114, 51,  146, 232, 111, 231, 236, 10,  90,  162, 208, 38,  242,
        66,  184, 0,   75,  147, 4,   142, 251, 199, 13,  148, 165, 82,  148,
        104, 66,  166, 233, 32,  75,  178, 54,  134, 251, 199, 13,  34,  75,
        146, 148, 38,  242, 194, 41,  16,  103, 114, 182, 229, 253, 130, 132,
        34,  75,  177, 150, 39,  242, 194, 161, 0,   111, 242, 182, 135, 253,
        194, 136, 4,   6,   96,  144, 33,  114, 230, 160, 4,   54,  96,  144,
        160, 115, 230, 160, 4,   54,  34,  144, 128, 123, 230, 160, 18,  22,
        34,  144, 32,  114, 166, 160, 146, 18,  34,  144, 160, 115, 166, 164,
        40,  111, 226, 176, 143, 251, 199, 137, 32,  111, 178, 52,  134, 251,
        199, 137, 138, 18,  35,  144, 160, 99,  230, 164, 24,  87,  98,  144,
        174, 114, 231, 168, 24,  22,  32,  144, 224, 99,  230, 160, 24,  22,
        34,  144, 128, 107, 230, 160, 146, 66,  34,  208, 160, 115, 166, 172,
        8,   107, 3,   176, 161, 243, 198, 128, 146, 66,  35,  208, 161, 115,
        166, 172, 128, 107, 3,   148, 160, 219, 199, 5,   138, 50,  35,  208,
        160, 125, 167, 172, 10,  2,   35,  208, 33,  98,  198, 160, 136, 126,
        35,  144, 128, 127, 231, 128, 11,  74,  160, 216, 54,  226, 66,  248,
        182, 83,  243, 246, 231, 244, 195, 231, 20,  101, 194, 144, 105, 66,
        166, 233, 162, 106, 145, 148, 46,  251, 195, 41,  2,   74,  224, 144,
        33,  242, 230, 160, 146, 114, 35,  144, 160, 125, 167, 160, 146, 54,
        35,  208, 225, 99,  166, 172, 146, 66,  35,  208, 160, 115, 166, 172,
        8,   111, 147, 52,  134, 255, 199, 141, 138, 82,  35,  208, 160, 127,
        166, 172, 0,   107, 227, 176, 161, 255, 231, 160, 216, 126, 162, 24,
        137, 124, 135, 156, 118, 147, 114, 222, 87,  100, 225, 231, 168, 46,
        129, 22,  87,  201, 131, 193, 0,   70,  2,   144, 33,  234, 134, 144,
        146, 119, 3,   16,  205, 125, 39,  173,
    },
};
const std::vector<cv::Mat> SelectionRecognizer::SELECTION_DESCRIPTORS = {
    cv::Mat(DATA[0].size() / 8, 8, CV_8U, (void *)DATA[0].data()),
    cv::Mat(DATA[1].size() / 8, 8, CV_8U, (void *)DATA[1].data()),
    cv::Mat(DATA[2].size() / 8, 8, CV_8U, (void *)DATA[2].data()),
};
